import React, {useState} from 'react';
import { Box, Typography, Drawer, List, ListItem, ListItemText, Avatar, Divider, Chip, IconButton } from '@mui/material';
import { VideoLibrary, AccessTime, Star } from '@mui/icons-material';
import MenuIcon from '@mui/icons-material/Menu';
import { useParams } from 'react-router-dom';

import CoursesDatabase from '../data/CoursesDatabase';
import RatingStars from '../components/RatingStars';

const modules = [
    "Programming introduction",
    "Intro to Computer Languagues",
    "Intro to C Languages",
    "Naming Conventions",
    "Downloading the tools"
];


const CourseDisplay = () => {
    const {id} = useParams();

    const [drawerOpen, setDrawerOpen] = useState(false);

    const toggleDrawer = (open) => () => {
        setDrawerOpen(open);
    };
    
    return (
        <Box /* Main content */sx={{ display: 'flex', mt: '5em', p: '2em'}}> 
            <Box /*Main content*/ sx={{
                flexGrow: 1, 
                transition: 'padding-right 0.3s ease',
                pr: drawerOpen ? '18em' : '2em',
                pl: '2em',
                
            }}
            > 
                <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>
                    <IconButton onClick={toggleDrawer(true)}>
                        <MenuIcon />
                    </IconButton>
                </Box>

                <Box /* Course Video */
                sx={{
                    position: 'relative',
                    paddingBottom: '56.25%',
                    height: 0,
                    mt: 2
                }}>
                    <iframe
                    src="https://youtu.be/7fPXI_MnBOY?feature=shared"
                    title="Course Video"
                    frameBorder="0"
                    allowFullScreen
                    style={{
                        position: 'absolute',
                        top: 0,
                        left: 0,
                        width: '100%',
                        height: '100%',
                    }}
                    ></iframe>
                </Box>

                <Box /* Instructor Info */ 
                sx={{ 
                    display: 'flex',
                    alignItems: 'center',
                    mb: 3,
                    bgcolor: '#fafafa', 
                    p: 2,
                    borderRadius:2
                }}
                >
                    <Avatar sx={{width: 64, height: 64, mr: 2}}>Photo</Avatar>
                    <Box>
                        <Typography fontWeight="bold">Instructor Name</Typography>
                        <Typography variant="body2">Profession: Computer Science</Typography>
                        <Typography variant="body2">
                            Courses: <a href="#">C++ basic</a>, <a href="#">Object oriented programming</a>
                        </Typography>
                    </Box>
                </Box>

                <Box /*Course Description*/
                sx={{
                    bgcolor: '#f5f5f5', 
                    p: 3,
                    borderRadius: 2
                }}>
                    <Typography fontWeight="bold" gutterBottom>Course Description</Typography>
                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb:1 }}>
                        <AccessTime fontSize="small" />
                        <Typography variant="body2">32.5 hours</Typography>
                        <VideoLibrary fontSize="small" />
                        <Typography variant="body2">16 Videos</Typography>
                        <Star sx={{ color: '#fbc02d' }} fontSize="small" />
                        <Typography variant="body2">(16,320 Reviews)</Typography>
                    </Box>
                        <Typography variant="body2">
                            Description details......
                        </Typography>
                </Box>
            </Box>

            {/* Right Drawer - Module List */}
            <Drawer 
            anchor="right"
            open={drawerOpen}
            onClose={toggleDrawer(false)}
            PaperProps={{
                sx: {
                    width: '16em',
                    mt: '4em',
                    bgcolor: '#f0f0f0'},
            }}
            >
                <Typography variant="subtitle1" sx={{ p: 2}}>Modules</Typography>
                <Divider />
                <List>
                    {modules.map((mod, index) => (
                        <ListItem key={index}>
                            <ListItemText primary={mod} />
                        </ListItem>
                    ))}
                </List>
            </Drawer>
        </Box>
    );
};

export default CourseDisplay;


import React, {useState} from 'react';
import { Box, Typography, Drawer, List, ListItem, ListItemText, Divider, IconButton } from '@mui/material';
import { VideoLibrary, AccessTime, Star } from '@mui/icons-material';
import MenuIcon from '@mui/icons-material/Menu';
import { useParams } from 'react-router-dom';

import CoursesDatabase from '../data/CoursesDatabase';
import RatingStars from '../components/RatingStars';



const CourseDisplay = () => {
    const { id } = useParams();
    const course = CoursesDatabase.find(course => course.id === parseInt(id));
    
    const [drawerOpen, setDrawerOpen] = useState(false);
    const toggleDrawer = (open) => () => setDrawerOpen(open);

    if (!course) {
        return <Typography variant="h6">Course not found</Typography>;
    }

    return (
        <Box sx={{ display: 'flex', mt: '5em', p: '2em' }}>
            <Box 
            sx={{ 
                flexGrow: 1, 
                transition: 'padding-right 0.3s ease',
                pr: drawerOpen ? '18em' : '2em', pl: '2em',
                pl: '2em', 
                }}
            >
                <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>
                    <IconButton onClick={toggleDrawer(true)}>
                        <MenuIcon />
                    </IconButton>
                </Box>


                {/* Placeholder for course video */}
                <Box sx={{ position: 'relative', paddingBottom: '56.25%', height: 0, mt: 2 }}>
                    {/* <iframe
                        src="https://www.youtube.com/embed/7fPXI_MnBOY"
                        title={course.title}
                        frameBorder="0"
                        allowFullScreen
                        style={{
                            position: 'absolute',
                            top: 0,
                            left: 0,
                            width: '100%',
                            height: '100%',
                        }}
                    ></iframe> */}
                </Box>


                {/* Course Description box */}
                <Box sx={{ bgcolor: '#f5f5f5', p:3, borderRadius: 2, mt: 3 }}>
                    <Typography fontWeight="bold" variant="h6" gutterBottom>
                        {course.title}
                    </Typography>


                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 1 }}>
                        <AccessTime fontSize="small" />
                        <Typography variant="body2">{course.duration}</Typography>
                        <VideoLibrary fontSize="small" />
                        <Typography variant="body2">{course.modules} Modules</Typography>
                        <Star sx={{ color: '#fbc02d' }} fontSize="small" />
                        <Typography variant="body2">
                            <RatingStars rating={course.rating} /> ({course.reviews} Reviews)
                        </Typography>
                    </Box>

                    <Typography variant="body2">{course.description}</Typography>

                    {/* <Box>
                        <Typography fontWeight="bold">{course.instructorName}</Typography>
                        <Typography variant="body2">Profession: {course.instructorProfession}</Typography>
                        <Typography variant="body2">
                            Courses: {course.relatedCourses.join(', ')}
                        </Typography>
                    </Box> */}
                </Box>
            </Box>

                {/* <Box sx={{ bgcolor: '#f5f5f5', p: 3, borderRadius: 2 }}>
                    <Typography fontWeight="bold" gutterBottom>Course Description</Typography>
                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 1 }}>
                        <AccessTime fontSize="small" />
                        <Typography variant="body2">{course.duration}</Typography>
                        <VideoLibrary fontSize="small" />
                        <Typography variant="body2">{course.modules.length} Videos</Typography>
                        <Star sx={{ color: '#fbc02d' }} fontSize="small" />
                        <Typography variant="body2">({course.reviews} Reviews)</Typography>
                    </Box>
                    <Typography variant="body2">{course.description}</Typography>
                </Box> */}
            
            
            {/* Right Drawer for Module details */}
            <Drawer
                anchor="right"
                open={drawerOpen}
                onClose={toggleDrawer(false)}
                PaperProps={{ sx: { width: '16em', mt: '4em', bgcolor: '#f0f0f0' }, }}
            >
                <Typography variant="subtitle1" sx={{ p: 2 }}>Modules</Typography>
                <Divider />
                <List>
                    {[...Array(parseInt(course.modules) || 0)].map((_, index) => (
                        <ListItem key={index}>
                            <ListItemText primary={`Module ${index + 1}`} />
                        </ListItem>
                    ))}                  
                </List>
            </Drawer>
        </Box>
    );
};

export default CourseDisplay;